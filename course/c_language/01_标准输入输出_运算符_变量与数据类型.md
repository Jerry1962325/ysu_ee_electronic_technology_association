## Hello World

```C
#include <stdio.h>

int main() {
	printf("Hello World!\n");
	return 0;
}
```

在小熊猫C++中新建`hello.c`文件, 输入你的第一个C语言程序

在输入时请注意：

1. 所有符号都是英文半角符号, 输入法悬浮窗中实心圆代表全角, 月亮代表半角。一般来说, 中文会使用全角符号, 英文会使用半角符号, 因此你需要将输入法调成英文。
2. `main`意为"主要的", 不是`mian`; `printf`意为"格式化打印"，其中"f"是"format"格式化的缩写; `return`意为"返回", 不是`retrun`
3. 代码的`printf`和`return`所在的两行前面有一端空白, 这不是敲了4个空格, 而是使用键盘左上角的`TAB`键输入的。

输入完成后请使用请在代码区右键，选择`对代码重新排版`, 如果排版之后与示例代码不一样, 请仔细检查你的代码。

在输入完成代码之后对代码重新排版是个好习惯，你应该记住保存快捷键(Ctrl+S)和重新排版快捷键(Ctrl+Shift+A), 并且在每次写完代码后按下这两组快捷键。

## Hello World程序的解释

```C
#include <stdio.h>
```

`#`是宏语句的开头，宏语句的用处是复制粘贴。`include`意为导入，作用是将头文件`stdio.h`粘贴到宏语句所在位置。`stdio.h`中`stdio`是`Standard input/output`标准输入输出的缩写，以`.h`结尾的文件是头文件，`h`是`head`的缩写

第一行语句的作用是导入标准输入输出库，库中常用函数包括`printf`格式化输出，`scanf`格式化输入。

```C
int main(){
    ...
    return 0;
}
```

`int`是`integer`整数类型的缩写。`main`是主函数。主函数是程序执行开始的地方。

`return 0;`使主函数结束并返回0，分号表示语句结束，主函数返回0表示程序正常结束。

以上代码是C语言的固定结构，如果你现在还不理解，是非常正常的。每次写代码可以先写下这一段模板，然后在`...`的部分填入你自己的代码。

```C
printf("Hello World!\n");
```

这一行命令打印Hello World，`printf`是格式化输出，使用双引号包裹的是字符串，字符串内的`\n`表示换行，是一种转义字符。

## 尝试更改这段代码

可以更改`printf`所在行的字符串，改为打印你的名字。

`\n`表示换行，使用`\"`可以打印一个双引号，`\t`是水平制表符，相当于键盘的`TAB`键

## 计算机是用来计算的

```C
#include <stdio.h>

int main()
{
    printf("2+2 = %d\n", 2 + 2);
    printf("6-9 = %d\n", 6 - 9);
    printf("3*5 = %d\n", 3 * 5);
    printf("9/3 = %d\n", 9 / 3);
    return 0;
}
```

运行以上代码，可以看到黑框框输出:

```
2+2 = 4
6-9 = -3
3*5 = 15
9/3 = 3
```

其中`%d`是一个占位符，表示格式化输出一个整数，字符串后面的数字依次填入到占位符内。

例如:

```C
#include <stdio.h>

int main()
{
	printf("%d %d %d\n", 1, 2, 3);
	return 0;
}
```

这段程序的输出就是`1 2 3`.

`%d`中的d是digit(数字)的缩写。

请尝试计算不同的式子，满足先乘除后加减的运算顺序，可以用小括号来优先计算。

尝试计算`(1+2)*3`和`1+2*3`

如果除数为零会得到一个程序错误，这会是你遇到的第一个程序错误。

尝试计算`10/3`看看结果会是什么吧？

？？感觉不对，答案怎么是`3`

## 数据类型

`3`和`3.0`在我们眼里并没有区别，但是在计算机内部保存的方式却是不同的。`3`先以二进制编码，在以补码的形式保存在计算机中；`3.0`遵循IEEE 754浮点数标准，以科学计数法的形式保存在计算机中。

对于数字的处理，常用类型是整型和浮点型，整型用来保存整数，浮点型用来保存小数。

因此如果想计算`10/3`的值，可以写成`10.0/3.0`，并且将`%d`整型占位符改为`%f`浮点型占位符。

```C
#include <stdio.h>

int main()
{
    printf("10/3 = %f\n", 10.0 / 3.0);
    return 0;
}
```

程序输出`10/3 = 3.333333`，可以看到浮点数是有精度限制的，32位浮点数有7位十进制有效数字，64位浮点数有15位十进制有效数字。

## 变量

目前我们程序的输出是固定的，要想计算不同数值，只能更改代码中的数值

要接收用户输入的数值，我们需要标准输入函数`scanf`，以及在内存中开辟一段空间来存储用户输入的数值。随着程序运行可以动态改变其存储的值的内存空间的代号，我们称其为变量。

变量是内存空间的代号，通过操作变量，我们实际在操作一段内存空间。

变量有它的类型，变量类型决定了内存空间的长度和数据的存储方式。

变量语法如下

```C
变量类型 变量名 = 初始值;           // 变量在定义时被赋予了初始值
变量类型 变量名;                   // 变量是未初始化的
变量类型 变量名1, 变量名2, ...;     // 可以定义多个同类型的变量
```

尝试这个程序，它可以将摄氏度转化为华氏度

```C
#include <stdio.h>

int main()
{
	float c, f; // 定义了两个变量，摄氏度c和华氏度f
	printf("请输入需要转换的摄氏度：");
	scanf("%f", &c); // 读取一个浮点数，存到变量c中
	f = (c + 32) * 9 / 5.0; // 计算华氏度并赋值到变量f中
	printf("华氏度为：%.2f°F\n", f); // %.2f可以保留小数点后两位小数
	return 0;
}
```

输入：

36.6(回车)

输出：

华氏度为：123.48°F

### 变量名

变量名有一定的命名规则，称为标识符命令规则。

标识符由大小写英文字母，数字，下划线组成，不能以数字开头，标识符不能与关键字(保留字)相同，变量名区分大小写。

关键字(保留字)如下: `auto double int struct break else long switch case register typedef char extern return union float short unsigned continue for default goto sizeof do if while static enum signed void volatile const inline restrict _Bool _Complex _Imaginary `

有一些命名虽然不是保留字，但是也不应该作为变量命名，例如：`true false printf scanf`，其中`true false`是标准库定义的宏常量，`printf scanf`是标准库定义的函数。

符合命名规则的标识符例如：`i j res counter f64 GenshinImpact PI __HAL_RCC_GPIOC_CLK_ENABLE`

不符合命名规则的标识符例如：`3d_object do 关键字 hello-world`

程序代码的编写是一群人高强度互动的过程，因此在编程中有一些变量名的非强制的命名规范：

- 短变量名，例如`i j k`，一般作为循环变量使用
- 数学上的变量名，例如`x y z alpha theta`
- 常用缩写，例如`cnt(count计数器) tmp(temporary临时变量) msg(message消息) tx(transmit发送) rx(receive接收) buf(buffer缓冲区) pos(position位置) vec(vector向量)`等，请参考 编程语言中常用的变量命名缩写[https://www.cnblogs.com/xinhaifeihai/p/15966588.html](https://www.cnblogs.com/xinhaifeihai/p/15966588.html)
- 下划线命名法，小写单词用下划线隔开，例如`student_name pid_controller 3d_objects left_motor_speed`
- 驼峰命名法，对于变量名，首字母小写，后面单词的首字母大写，其余小写。例如`studentName pidController 3dObjects leftMotorSpeed`
- 物理量可以带上单位，例如`delay_time_ms tx_freq_MHz download_speed_Gbps`

我推荐你使用下划线命名法而不是驼峰命名法。

反面典型命名：

- 无意义的字母组合，例如`abc xxx asdfg`
- 中文拼音或其缩写，例如`xueshengxingming XueShengXingMing(学生姓名还是学生性命？) shzyhxjzg(拼音首字母缩写) hujian(胡建)`
- 变量名不能很好地表述变量的功能，例如表示质数的平方和的变量，可以命名为`prime_sqr_sum`，而不是`sum`。又或者表示电机的最大转速，可以命名为`motor_max_speed`，而不是`vmax`
  
不要担心变量名太长导致输入不便，现代编辑器会自动补全变量名。

### 变量类型

变量类型可以是基本类型或复合类型，这里只介绍基本类型

基本类型如下：

- int 整数类型，32比特长度，可以存储正负号
- long 长整数类型，64比特长度，可以存储正负号
- float 浮点数类型，32比特长度，可以存储带正负号的小数
- double 双精度浮点数类型，64比特长度，可以存储带正负号的小数
- char 字符类型，8比特长度，可以存储一个ASCII表中的字符，也可以被当作整数进行运算
- bool 布尔类型，8比特长度，存储的值要么是真(true)要么是假(false)

## 标准输入函数

`scanf`为标准输入函数

todo!()


## C语言的基本语法

C语言有几种语法规则，我们目前遇到的语法总结如下：

1. 宏定义语句

    宏定义语法以`#`井号开头，常见的宏语句有
    
    - `#include <头文件.h>` 用来导入头文件
    - `#define` 用来定义宏常量（之后会讲）
    - `#ifdef`或`#ifndef`与`#elif`和`#end`联合使用，表示条件宏语句
  
    宏语句不需要以分号结尾，其他大部分语句都需要以分号结尾

2. 函数或变量的声明语句
   
    函数的声明语句语法为：

    ```C
    返回值类型 函数名(参数列表);

    例如

    float distance(float p1x, float p1y, float p2x, float p2y);

    void print_hello();
    ```
    参数列表是由逗号分隔的参数，参数列表可以为空

    参数写成参数类型和参数名

    函数的定义必须写在实现之前，并且必须写在C代码的最外层，不能写在大括号内

    变量的定义语句语法为：

    ```C
    变量类型 变量列表;
    ```

    几种常见变量初始化语句

    ```C
    int a, b, c;
    int a = 1;
    ```

    变量的定义可以写在大括号(代码块)内，变量定义在不同的大括号内决定了变量的作用范围(作用域)

3. 函数的实现语句
   
   函数的实现语句语法为：

   ```C
   返回值类型 函数名(参数列表) {
    许多语句
   }

   例如

   int main() {
    ...
    return 0;
   }
   ```

   函数的实现语法不需要以分号结尾，注意它与函数定义语法的区别

   不能在函数实现的大括号里写宏定义(但可以写条件宏)、函数声明和函数实现

4. 其他语句

    (不严谨地说)值和值的运算构成了表达式，例如`1`，`1 + 1`, `sqrt(1)`，`a + b`都是表达式
   
   - 变量赋值语句 `变量名 = 表达式;`，例如`a = 1;`或`a = b = c = sqrt(4);`
   - 函数调用语句 `表达式;`，例如`printf("Hello\n");`，`scanf("%d", &a);`，`1 + 1;`
   - 控制语句，之后会介绍`while`，`for`，`if else`，`switch case`，`return`等语句的语法